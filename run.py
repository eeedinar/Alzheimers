# CRLs: 7+9
# on-axis cam mag 1x 
# 573.8,443.0

# ROIs, left, top, right, bottom

cpx,cpy = [0, 0] # correction for errors due to mounting

# sdict1 = {"2048": [[2360,7914,2540,8094]]}
# sdict2 = {"2191_PHG": [[7203, 8228, 7383, 8408]], "2191_PHG_bkg":[[8778, 10158,8798, 10178]]}
# sdict3 = {'2191_V2': [[3069, 10021, 3249, 10201]] , '2191_V2_bkg': [[3613, 10670, 3633, 10690]]}

# sdict3 = {'1898_EC': [[2544, 10048, 2724, 10228],[2724, 10228, 2904, 10408], [2880, 10880, 3060, 11060]] , '1898_EC_bkg': [[3936, 10832, 3956, 10852]], \
#                    '1898_HIPPO': [[2848, 2800, 3028, 2980], [1444, 4520, 1624, 4700], [3848, 5040, 4028, 5220] ] , '1898_HIPPO_bkg':[[1704, 2404, 1724, 2424]], \
#                    '1898_PHG': [[8336, 9968, 8516, 10148], [8064, 10204, 8244, 10384]], '1898_PHG_bkg':[[9080, 10352, 9100, 10372]], \
#                    '1898_CING':[[7429, 3105, 7549, 3225],[9522, 4830, 9642, 4950] ], '1898_CING_bkg':[[6555, 5750, 6575, 5770]]}

# sdict3 = {'1948_EC': [[9192, 10719, 9372, 10899], [8601, 10869, 8781, 11049], [7050, 9608, 7230, 9788] ], '1948_EC_bkg': [[7132, 10840, 7152, 10860]] }
# sdict3 = {'2068_PHG_2': [[2992, 7256, 3112, 7376]] }
# sdict3 = {'1948_V2': [[8176, 10000, 8356, 10180], [9008, 10056, 9188, 10236] ], '1948 V1': [[8432, 3512, 8612, 3692], [8496, 4296, 8676, 4476] ]}
# sdict3 = {'1968_V2': [[6825, 3294, 6945, 3414]], '2068_EC': [[4476, 3114, 4596, 3234]], '2068_HIPPO':  [[4785, 7073, 4905, 7193]]}
# sdict3 = {'1968_EC': [[9099, 4287, 9279, 4647]], '1968_HIPPO': [[7152, 7296, 7332, 7476]], '1968_PHG': [[2530, 2343, 2650, 2463]], '1968_CING': [[3992, 8160, 4112, 8280]], '1968_CING_WHITE_MATTER': [[2068, 8283, 2098, 8313]]}  
# sdict3 = {'1898_V2': [[6718, 2884, 6898, 3064], [8316, 5007, 8496, 5187]] , '1898_V1': [[6400, 7198, 6580, 7378], [7146, 8502, 7326, 8682]] , '1971_EC': [[3852, 4220, 4032, 4400], [1964, 5688, 2144, 5868]] , '1971_Hippo': [[1585, 9543, 1765, 9723], [2607, 7941, 2787, 8121]] }
# sdict3 = {'1971_PHG': [[8728, 3107, 8908, 3287]] , '1971_CING': [[7857,7317,8037,7497]] , '1971_V2':[[3564, 2998, 3744, 3178]] , '1971_V1': [[2278,6934,2458,7114],[3034,6998,3214,7178]] }
# sdict3 = {'2068_V2': [[9652, 4476, 9732, 4556], [6832, 5608, 6912, 5688]], '2068_V1': [[9318, 7980, 9398, 8060]],'1968_V1': [[3861, 9031, 3941, 9111]]}   # sample-13

# sdict3 = {'2191_EC': [[8200, 5313, 8380, 5493]], '2191_Hippo': [[8068, 10103, 8248, 10283]],'2191_CING': [[3448, 2986, 3528, 3066]], '2191_V1':[[2057, 7293, 2137, 7373]]}   # sample-11

# sdict3 = {'1968_Hippo_CA1': [[6872, 6772, 6992, 6892]] , '1968_Hippo_CA3': [[8076, 10016, 8196, 10136]]}

# sdict3 = {'2048_B8_UNSTAINED': [[7327, 9532, 7507, 9712], [8261, 8489, 8441, 8669]], '2029_DG_UNSTAINED': [[7921, 3506, 8101, 3686],[8682, 3607, 8862, 3787] ]}   # sample-10

sdict3 = {'1948_HIPPO': [[7136, 5632, 7316, 5812], [5992, 3020, 6172, 3200]], '1948_PHG': [[6954, 10701, 7134, 11061], [6546, 9486, 6726, 9666]], '1948_CING': [[115, 2942, 295, 3122], [2777, 4097, 2957, 4277]] , '2068_CING': [[1193, 6655, 1373, 6835], [1402, 9548, 1582, 9728]]} 


skip_list = {"2029_Dentate_gyrus": [0,1,2,3,4], "2029_dentate_gyrus_mica": [0], }

#annotate_img("2068.png", sdict1, scan_step_x=0.005, scan_step_y=0.005)
#annotate_img("1898a-img.png", sdict2, scan_step_x=0.005, scan_step_y=0.005)
#annotate_img("1971b-img.png", sdict3, scan_step_x=0.005, scan_step_y=0.005)
#annotate_img("s14-img.png", sdict1, scan_step_x=0.005, scan_step_y=0.005)

""""""
ESVacSys.normalOps()

#collect_data(sdict1, exp_t=0.4, scan_step_x=0.005, scan_step_y=0.005, fast_axis_is_x=True)
#collect_data(sdict1a, exp_t=0.4, scan_step_x=0.005, scan_step_y=0.005, fast_axis_is_x=True)
#collect_data(sdict2, exp_t=0.4, scan_step_x=0.005, scan_step_y=0.005, fast_axis_is_x=True)
#collect_data(sdict3, exp_t=0.5, scan_step_x=0.005, scan_step_y=0.005, fast_axis_is_x=True)

# issue with ss.sx stage ref position, pushed the stage during sample exchange
# position difference is 2940 pixels, or 4.941 mm
collect_data(sdict3, exp_t=0.5, scan_step_x=0.005, scan_step_y=0.005, fast_axis_is_x=True)

vs.x.move(0)
vs.y.move(0)
#ESVacSys.vent('sample')
""""""
